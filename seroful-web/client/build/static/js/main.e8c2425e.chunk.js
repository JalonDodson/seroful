(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{123:function(e,t,a){e.exports=a.p+"static/media/molecule.12ccad98.png"},217:function(e,t,a){e.exports=a(353)},352:function(e,t,a){},353:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l),o=a(9),u=a.n(o),i=a(12),s=a(6),m=a(5),f=a(27),d=a(82),p=a(437),b=a(354),h=a(405),E=a(187),g=a.n(E),v=a(28),j=a.n(v),O=(a(68),a(85),a(122)),y=a.n(O),x=a(11),k=a.n(x),w=y.a.create({}),C=function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k.a.auth().currentUser,!e.t0){e.next=5;break}return e.next=4,k.a.auth().currentUser.getIdToken();case 4:e.t0=e.sent;case 5:return a=e.t0,e.prev=6,e.next=9,w.get("/users?email=".concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return e.data}));case 9:return n=e.sent,console.log(n),e.abrupt("return",n);case 14:e.prev=14,e.t1=e.catch(6),console.log(e.t1);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(u.a.mark((function e(t,a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.post("/users",{displayName:a,email:n,username:t});case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k.a.auth().currentUser,!e.t0){e.next=5;break}return e.next=4,k.a.auth().currentUser.getIdToken();case 4:e.t0=e.sent;case 5:if(a=e.t0,e.t1=k.a.auth().currentUser,!e.t1){e.next=11;break}return e.next=10,k.a.auth().currentUser.email;case 10:e.t1=e.sent;case 11:return n=e.t1,e.prev=12,e.next=15,w.patch("/users?email=".concat(n),{username:t.username,email:t.email,displayName:t.displayName,photoURL:t.photoURL,medicines:t.medicines,illnesses:t.illnesses},{headers:{Authorization:"Bearer ".concat(a)}});case 15:return r=e.sent,e.abrupt("return",r);case 19:e.prev=19,e.t2=e.catch(12),console.log(e.t2);case 22:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k.a.auth().currentUser,!e.t0){e.next=5;break}return e.next=4,k.a.auth().currentUser.getIdToken();case 4:e.t0=e.sent;case 5:return a=e.t0,e.prev=6,e.next=9,w.post("/users/photo/upload",t,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data; boundary=".concat(t._boundary)}}).then((function(e){return e.data}));case 9:return n=e.sent,console.log(n),e.abrupt("return",n);case 14:e.prev=14,e.t1=e.catch(6),console.log(e.t1);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/users?filterAll=true").then((function(e){return e.data}));case 3:return t=e.sent,console.log(t),e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.firestore().collection("users").doc(k.a.auth().currentUser.email).update({goals:k.a.firestore.FieldValue.arrayUnion({goals:t,date:Date.now()})});case 3:return a=e.sent,console.log(a),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(u.a.mark((function e(t,a){var n,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k.a.auth().currentUser,!e.t0){e.next=5;break}return e.next=4,k.a.auth().currentUser.getIdToken();case 4:e.t0=e.sent;case 5:if(n=e.t0,e.t1=k.a.auth().currentUser,!e.t1){e.next=11;break}return e.next=10,k.a.auth().currentUser.email;case 10:e.t1=e.sent;case 11:return r=e.t1,e.prev=12,e.next=15,w.post("/users/friends?email=".concat(r,"&isPending=true"),{username:t,requestee:a,email:r},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){return e.data}));case 15:return l=e.sent,e.abrupt("return",l);case 19:e.prev=19,e.t2=e.catch(12),console.log(e.t2);case 22:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t,a){return e.apply(this,arguments)}}(),B=function(){var e=Object(i.a)(u.a.mark((function e(t,a){var n,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k.a.auth().currentUser,!e.t0){e.next=5;break}return e.next=4,k.a.auth().currentUser.getIdToken();case 4:e.t0=e.sent;case 5:if(n=e.t0,e.t1=k.a.auth().currentUser,!e.t1){e.next=11;break}return e.next=10,k.a.auth().currentUser.email;case 10:e.t1=e.sent;case 11:return r=e.t1,e.prev=12,e.next=15,w.post("/users/friends?email=".concat(r,"&isPending=false"),{username:t,acceptee:a,email:r},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){return e.data}));case 15:return l=e.sent,e.abrupt("return",l);case 19:e.prev=19,e.t2=e.catch(12),console.log(e.t2);case 22:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k.a.auth().currentUser,!e.t0){e.next=5;break}return e.next=4,k.a.auth().currentUser.getIdToken();case 4:e.t0=e.sent;case 5:if(a=e.t0,e.t1=k.a.auth().currentUser,!e.t1){e.next=11;break}return e.next=10,k.a.auth().currentUser.email;case 10:e.t1=e.sent;case 11:return n=e.t1,e.prev=12,e.next=15,w.delete("/users/friends?email=".concat(n,"&target=").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return e.data}));case 15:return r=e.sent,console.log(r),e.abrupt("return",r);case 20:e.prev=20,e.t2=e.catch(12),console.log(e.t2);case 23:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(u.a.mark((function e(t,a){var n,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k.a.auth().currentUser,!e.t0){e.next=5;break}return e.next=4,k.a.auth().currentUser.getIdToken();case 4:e.t0=e.sent;case 5:if(n=e.t0,e.t1=k.a.auth().currentUser,!e.t1){e.next=11;break}return e.next=10,k.a.auth().currentUser.email;case 10:e.t1=e.sent;case 11:return r=e.t1,e.prev=12,e.next=15,w.delete("/users/friends?email=".concat(r,"?isRejection=true"),{username:t,denier:a,email:r},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){return e.data}));case 15:return l=e.sent,e.abrupt("return",l);case 19:e.prev=19,e.t2=e.catch(12),console.log(e.t2);case 22:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(i.a)(u.a.mark((function e(t,a,n){var r,l,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k.a.auth().currentUser,!e.t0){e.next=5;break}return e.next=4,k.a.auth().currentUser.getIdToken();case 4:e.t0=e.sent;case 5:if(r=e.t0,e.t1=k.a.auth().currentUser,!e.t1){e.next=11;break}return e.next=10,k.a.auth().currentUser.email;case 10:e.t1=e.sent;case 11:return l=e.t1,e.prev=12,e.next=15,w.post("/users/messages?email=".concat(l),{sender:t,recipient:a,message:n},{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){return e.data}));case 15:return c=e.sent,console.log(c),e.abrupt("return",c);case 20:return e.prev=20,e.t2=e.catch(12),console.log(e.t2),e.abrupt("return",e.t2);case 24:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(t,a,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k.a.auth().currentUser,!e.t0){e.next=5;break}return e.next=4,k.a.auth().currentUser.getIdToken();case 4:e.t0=e.sent;case 5:if(a=e.t0,e.t1=k.a.auth().currentUser,!e.t1){e.next=11;break}return e.next=10,k.a.auth().currentUser.email;case 10:e.t1=e.sent;case 11:return n=e.t1,e.prev=12,e.next=15,w.patch("/users/journal/entries?email=".concat(n),{entry:t,timestamp:Date.now()},{headers:{Authorization:"Bearer ".concat(a)}});case 15:return r=e.sent,console.log(r),e.abrupt("return",r);case 20:e.prev=20,e.t2=e.catch(12),console.log(e.t2);case 23:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(i.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k.a.auth().currentUser,!e.t0){e.next=5;break}return e.next=4,k.a.auth().currentUser.getIdToken();case 4:e.t0=e.sent;case 5:if(t=e.t0,e.t1=k.a.auth().currentUser,!e.t1){e.next=11;break}return e.next=10,k.a.auth().currentUser.email;case 10:e.t1=e.sent;case 11:return a=e.t1,e.prev=12,e.next=15,w.get("/users/journal/entries?email=".concat(a),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.data}));case 15:return n=e.sent,e.abrupt("return",n);case 19:e.prev=19,e.t2=e.catch(12),console.log(e.t2);case 22:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k.a.auth().currentUser,!e.t0){e.next=5;break}return e.next=4,k.a.auth().currentUser.getIdToken();case 4:e.t0=e.sent;case 5:if(t=e.t0,e.t1=k.a.auth().currentUser,!e.t1){e.next=11;break}return e.next=10,k.a.auth().currentUser.email;case 10:e.t1=e.sent;case 11:return a=e.t1,e.prev=12,e.next=15,w.get("/users/planner/plans?email=".concat(a),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.data}));case 15:return n=e.sent,e.abrupt("return",n);case 19:e.prev=19,e.t2=e.catch(12),console.log(e.t2);case 22:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k.a.auth().currentUser,!e.t0){e.next=5;break}return e.next=4,k.a.auth().currentUser.getIdToken();case 4:e.t0=e.sent;case 5:if(a=e.t0,e.t1=k.a.auth().currentUser,!e.t1){e.next=11;break}return e.next=10,k.a.auth().currentUser.email;case 10:e.t1=e.sent;case 11:return n=e.t1,e.prev=12,e.next=15,w.patch("/users/planner/plans?email=".concat(n),{timestamp:Date.now(),dayLength:t.dayLength,homework:t.homework,mealtimes:t.mealtimes,breaks:t.breaks,appt:t.appt,goals:t.goals},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return e.data}));case 15:return r=e.sent,e.abrupt("return",r);case 19:e.prev=19,e.t2=e.catch(12),console.log(e.t2);case 22:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(i.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k.a.auth().currentUser,!e.t0){e.next=5;break}return e.next=4,k.a.auth().currentUser.getIdToken();case 4:e.t0=e.sent;case 5:return n=e.t0,e.prev=6,e.next=9,w.post("/video",{identity:t,roomName:a},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){return e.data}));case 9:return r=e.sent,console.log(r),e.abrupt("return",r);case 14:e.prev=14,e.t1=e.catch(6),console.log(e.t1);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k.a.auth().currentUser,!e.t0){e.next=5;break}return e.next=4,k.a.auth().currentUser.getIdToken();case 4:e.t0=e.sent;case 5:return n=e.t0,e.prev=6,e.next=9,w.post("/video?room=".concat(a,"&newConnection=true"),{identity:t},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){return e.data}));case 9:return r=e.sent,e.abrupt("return",r);case 13:e.prev=13,e.t1=e.catch(6),console.log(e.t1);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("https://quotes.rest/qod?language=en",{headers:{accept:"application/json"}}).then((function(e){return e.data}));case 3:return t=e.sent,console.log(t),e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),q=a(13),W=Object(q.b)({key:"userState",default:{username:"",email:"",pw:"",displayName:"",photoURL:"",medicines:[],illnesses:[],plans:[],journals:[]}}),V=(Object(q.b)({key:"msgState",default:""}),Object(q.b)({key:"loginHelperState",default:{txt:"",errorMsg:"",emailError:!1,pwError:!1}}),Object(q.b)({key:"registerHelperState",default:{txt:"",pwText:"",userTxt:"",emailError:!1,pwError:!1,userError:!1}}),Object(q.b)({key:"newUser",default:!1})),J=Object(q.b)({key:"videoToken",default:""}),$=Object(q.b)({key:"roomData",default:""}),K=a(123),Q=a.n(K),X=a(402),Z=a(204),_=Object(X.a)((function(e){return{loginDiv:{textAlign:"center"},seroful:{fontFamily:"Happy Monkey",color:"#F2EDEB",fontSize:"56px",fontWeight:"bold",fontStyle:"italic"},images:{height:350,width:350},button1:{backgroundImage:"linear-gradient(90deg, rgba(236,217,238,1) 0%, rgba(226,221,220,1) 51%, rgba(236,217,238,1) 100%);",width:"9.5%",marginTop:".5%",marginRight:"1%"},button2:{backgroundImage:"linear-gradient(90deg, rgba(236,217,238,1) 0%, rgba(226,221,220,1) 51%, rgba(236,217,238,1) 100%);",marginTop:".5%",width:"9.5%"},email:{width:"20%"},username:{width:"20%"},names:{width:"20%"},password:{width:"20%"},helper:{fontStyle:"italic",color:"#FF0000",fontSize:20,fontFamily:"Happy Monkey",textTransform:"capitalize"}}})),ee=Object(Z.a)({palette:{primary:{main:"#F2EDEB"}}}),te=function(){var e=_(),t=Object(n.useState)({email:"",pw:"",displayName:"",username:""}),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(q.e)(V),E=Object(n.useState)(!1),v=Object(s.a)(E,2),O=v[0],y=v[1],x=Object(n.useState)({txt:"",errorMsg:"",emailError:!1,pwError:!1}),k=Object(s.a)(x,2),w=k[0],C=k[1],N=Object(n.useState)({txt:"",pwText:"",userTxt:"",emailError:!1,pwError:!1,userError:!1}),U=Object(s.a)(N,2),T=U[0],A=U[1],M=Object(n.useState)({error:!1,helperText:""}),B=Object(s.a)(M,2),I=B[0],F=B[1],R=Object(n.useState)(""),D=Object(s.a)(R,2),P=D[0],L=D[1];Object(n.useEffect)((function(){return w.errorMsg&&("auth/invalid-email"===w.errorMsg?C((function(e){return Object(m.a)(Object(m.a)({},e),{},{txt:"Oh noes, that's an invalid email!",emailError:!0})})):"auth/user-not-found"===w.errorMsg?C((function(e){return Object(m.a)(Object(m.a)({},e),{},{txt:"Dangit, that email isn't registered!",emailError:!0})})):"auth/wrong-password"===w.errorMsg&&C((function(e){return Object(m.a)(Object(m.a)({},e),{},{pwText:"Aw man, that's the wrong password! Remember, it's case-sensitive!",pwError:!0})}))),T.errorMsg&&("auth/email-already-in-use"===T.errorMsg?A((function(e){return Object(m.a)(Object(m.a)({},e),{},{txt:"Aw snap, that email is already in use! Did you mean to login?",emailError:!0})})):"auth/invalid-email"===T.errorMsg&&A((function(e){return Object(m.a)(Object(m.a)({},e),{},{txt:"Oh noes, that's an invalid email!",emailError:!0})}))),P&&P!==l.pw?F((function(e){return{error:!0,helperText:"Passwords do not match!"}})):F((function(e){return{error:!1,helperText:""}}))}),[w.errorMsg,T.errorMsg,P]);var z=function(){return A((function(e){return Object(m.a)(Object(m.a)({},e),{},{txt:"",userTxt:"",userError:!1,emailError:!1})})),(l.email.includes("@")||4<=l.username.length)&&j.a.firestore().collection("users").get().then((function(e){e.forEach((function(e){var t=e.data(),a=t.email,n=t.username;a===l.email&&A((function(e){return Object(m.a)(Object(m.a)({},e),{},{txt:"That email has already been taken!",emailError:!0})})),n===l.username&&A((function(e){return Object(m.a)(Object(m.a)({},e),{},{userTxt:"That username has already been taken!",userError:!0})}))}))}))},H=function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.a.auth().signInWithEmailAndPassword(l.email,l.pw).then(console.log("User has triggered a login attempt.")).catch((function(e){C((function(t){return Object(m.a)(Object(m.a)({},t),{},{errorMsg:e.code})})),console.log(e)})),c((function(e){return{email:"",pw:""}}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,O?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement("title",null,"Seroful - Register")),r.a.createElement("div",{className:e.loginDiv},r.a.createElement(h.a,{theme:ee},r.a.createElement(d.a,{className:e.seroful,variant:"h3"},"Seroful"),r.a.createElement("img",{className:e.images,src:Q.a,alt:"molecule.png"}),r.a.createElement("form",{autoComplete:"off"},r.a.createElement(p.a,{label:"Display Name",variant:"filled",className:e.names,value:l.displayName,onChange:function(e){e.persist(),c((function(t){return Object(m.a)(Object(m.a)({},t),{},{displayName:e.target.value})}))}}),r.a.createElement("br",null),r.a.createElement(p.a,{error:T.userError,helperText:T.userTxt,label:"Username",variant:"filled",className:e.username,value:l.username,onBlur:function(){return z()},onChange:function(e){e.persist(),c((function(t){return Object(m.a)(Object(m.a)({},t),{},{username:e.target.value})}))}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(p.a,{error:T.emailError,helperText:T.txt,onBlur:function(){return z()},onFocus:function(){return A((function(e){return Object(m.a)(Object(m.a)({},e),{},{emailError:!1,txt:""})}))},label:"Email",type:"email",variant:"filled",className:e.email,value:l.email,onChange:function(e){e.persist(),c((function(t){return Object(m.a)(Object(m.a)({},t),{},{email:e.target.value})}))}}),r.a.createElement("br",null),r.a.createElement(p.a,{error:l.pw&&l.pw.length<6&&""!==l.pw,helperText:l.pw&&l.pw.length<6&&""!==l.pw?"Your password must be at least 6 characters!":null,label:"Password",type:"password",variant:"filled",className:e.password,value:l.pw,onChange:function(e){e.persist(),c((function(t){return Object(m.a)(Object(m.a)({},t),{},{pw:e.target.value})}))}}),r.a.createElement("br",null),r.a.createElement(p.a,{error:I.error,helperText:I.helperText,label:"Confirm Password",type:"password",variant:"filled",value:P,className:e.password,onBlur:function(){return F((function(e){return{helperText:"",error:!1}}))},onChange:function(e){return L(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(b.a,{variant:"contained",className:e.button1,onClick:function(){y(!1),c((function(e){return{email:"",pw:""}}))},startIcon:r.a.createElement(g.a,null)},"Back to Login"),r.a.createElement(b.a,{variant:"contained",className:e.button2,disabled:l.pw&&l.pw.length<6||T.emailError||T.userError||P!==l.pw,onClick:function(){return function(){var e=l.username,t=l.displayName,a=l.email,n=l.pw;try{j.a.auth().createUserWithEmailAndPassword(a,n),S(e,t,a)}catch(r){A((function(e){return Object(m.a)(Object(m.a)({},e),{},{errorMsg:r.code})}))}c((function(e){return{email:"",pw:""}})),o(!0)}()}},"Register"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement("title",null,"Seroful - Login")),r.a.createElement("div",{className:e.loginDiv},r.a.createElement(h.a,{theme:ee},r.a.createElement(d.a,{className:e.seroful,variant:"h3"},"Seroful"),r.a.createElement("img",{className:e.images,src:Q.a,alt:"molecule.png"}),r.a.createElement("br",null),r.a.createElement("form",{autoComplete:"off"},r.a.createElement(p.a,{label:"Email",type:"email",variant:"filled",className:e.email,error:w.emailError,helperText:w.txt,value:l.email,onFocus:function(){return C((function(e){return Object(m.a)(Object(m.a)({},e),{},{emailError:!1,txt:""})}))},onChange:function(e){e.persist(),c((function(t){return Object(m.a)(Object(m.a)({},t),{},{email:e.target.value})}))}}),r.a.createElement("br",null),r.a.createElement(p.a,{label:"Password",type:"password",variant:"filled",className:e.password,error:w.pwError,helperText:w.pwText,value:l.pw,onFocus:function(){return C((function(e){return Object(m.a)(Object(m.a)({},e),{},{pwError:!1,pwText:""})}))},onChange:function(e){e.persist(),c((function(t){return Object(m.a)(Object(m.a)({},t),{},{pw:e.target.value})}))}}),r.a.createElement("br",null),r.a.createElement(b.a,{variant:"contained",className:e.button1,onClick:function(){return H()}},"Login"),r.a.createElement(b.a,{variant:"contained",className:e.button2,onClick:function(){return y(!0)}},"Register"))))))},ae=a(50),ne=a(22),re=a(440),le=a(412),ce=a(411),oe=a(356),ue=a(413),ie=a(414),se=a(415),me=a(91),fe=a(205),de=a(416),pe=a(417),be=a(418),he=a(419),Ee=a(420),ge=a(421),ve=a(357),je=a(423),Oe=a(208),ye=a(424),xe=a(441),ke=a(433),we=a(196),Ce=a.n(we),Se=a(90),Ne=a.n(Se),Ue=a(108),Te=a.n(Ue),Ae=a(195),Me=a.n(Ae),Be=a(188),Ie=a.n(Be),Fe=a(193),Re=a.n(Fe),De=a(190),Pe=a.n(De),Le=a(189),ze=a.n(Le),He=a(194),Ge=a.n(He),Ye=a(192),qe=a.n(Ye),We=a(422),Ve=a(191),Je=a.n(Ve),$e=a(126),Ke=a.n($e),Qe=a(198),Xe=a.n(Qe),Ze=a(81),_e=a.n(Ze),et=a(66),tt=a.n(et),at=Object(X.a)((function(e){return{root:{display:"flex"},drawer:{width:151.5},drawerPaper:{backgroundColor:"#F2EDEB",opacity:.85,width:151.5},header:e.mixins.toolbar,seroful:{marginTop:"7.5%",textAlign:"center",fontFamily:"Happy Monkey",color:"#bd93bd",fontSize:"35px",fontWeight:"bold",fontStyle:"italic"},friendsButton:{textTransform:"capitalize",fontSize:"1rem",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif;",fontWeight:400,lineHeight:1.5,letterSpacing:"0.00938.em",background:"none"},videoButton:{textTransform:"capitalize",fontSize:"1rem",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif;",fontWeight:400,lineHeight:1.5,letterSpacing:"0.0025.em",background:"none",whiteSpace:"nowrap",right:"10%"},buttonGroup:{marginLeft:"15%"},addButton:{textTransform:"capitalize",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif;",backgroundColor:"#E9DFE3"},inputCont:{display:"flex",justifyContent:"space-between",marginTop:"4%"},text:{padding:e.spacing(2,2,0)},boxText:{padding:e.spacing(2,2,0),fontSize:"24px"},paper:{textAlign:"center",position:"absolute",bottom:0,paddingBottom:5,margin:"0 auto",width:"20%",left:"9%"},paperClosed:{textAlign:"center",position:"absolute",bottom:0,left:"9%",paddingBottom:5,margin:"0 auto",width:"15%"},list:{marginBottom:e.spacing(2)}}})),nt=function(){var e=Object(q.d)(W),t=Object(q.e)(J),a=at(),l=Object(n.useState)(null),c=Object(s.a)(l,2),o=c[0],f=c[1],h=Object(n.useState)(null),E=Object(s.a)(h,2),g=E[0],v=E[1],O=Object(n.useState)(!1),y=Object(s.a)(O,2),x=y[0],k=y[1],w=Object(n.useState)(!1),C=Object(s.a)(w,2),S=C[0],N=C[1],U=Object(n.useState)(!1),A=Object(s.a)(U,2),I=A[0],D=A[1],P=Object(n.useState)(!1),L=Object(s.a)(P,2),z=L[0],Y=L[1],V=Object(n.useState)([]),K=Object(s.a)(V,2),Q=K[0],X=K[1],Z=Object(n.useState)(null),_=Object(s.a)(Z,2),ee=_[0],te=_[1],ne=Object(n.useState)(!1),we=Object(s.a)(ne,2),Se=we[0],Ue=we[1],Ae=Object(n.useState)(!1),Be=Object(s.a)(Ae,2),Fe=Be[0],De=Be[1],Le=Object(n.useState)(!1),He=Object(s.a)(Le,2),Ye=He[0],Ve=He[1],$e=Object(n.useState)(""),Qe=Object(s.a)($e,2),Ze=Qe[0],et=Qe[1],nt=Object(n.useState)(""),rt=Object(s.a)(nt,2),lt=rt[0],ct=rt[1],ot=Object(q.c)($),ut=Object(s.a)(ot,2),it=ut[0],st=ut[1],mt=Object(n.useState)(null),ft=Object(s.a)(mt,2),dt=ft[0],pt=ft[1],bt=Object(n.useState)(!1),ht=Object(s.a)(bt,2),Et=ht[0],gt=ht[1],vt=Object(n.useState)(null),jt=Object(s.a)(vt,2),Ot=jt[0],yt=jt[1],xt=I&&0===Q.length,kt=Object(n.useState)(null),wt=Object(s.a)(kt,2),Ct=wt[0],St=wt[1],Nt=Object(n.useState)(null),Ut=Object(s.a)(Nt,2),Tt=Ut[0],At=Ut[1],Mt=Object(n.useState)(null),Bt=Object(s.a)(Mt,2),It=Bt[0],Ft=Bt[1],Rt=Tt&&0===Ct.length,Dt=Object(n.useState)(null),Pt=Object(s.a)(Dt,2),Lt=Pt[0],zt=Pt[1],Ht=Object(n.useCallback)(Object(i.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(lt,$),e.next=3,H(lt,$);case 3:(a=e.sent)&&t(a.token);case 5:case"end":return e.stop()}}),e)}))),[lt,$]),Gt=function(){var e=Object(i.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Ze,$),e.next=3,G(Ze,$);case 3:a=e.sent,console.log(a),a&&t(a.token);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=!0;if(xt)return Object(i.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T();case 2:return a=t.sent,t.next=5,a;case 5:n=t.sent,e&&X(n);case 7:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[xt]),Object(n.useEffect)((function(){I||X([])}),[I]),Object(n.useEffect)((function(){if(Rt)return Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j.a.firestore().collection("users").doc(e.email).get().then((function(e){var t=e.data(),a=t.friends&&t.friends.current?t.friends.current:null;a&&St(a)}));case 1:case"end":return t.stop()}}),t)})))(),function(){!1}}),[Rt]),Object(n.useEffect)((function(){Tt||St([])}),[Tt]),Object(n.useEffect)((function(){var e=j.a.firestore().collection("messages").doc(j.a.auth().currentUser.email).onSnapshot((function(e){var t=e.data();pt((function(e){return{sent:t&&t.sent?t.sent:[],received:t&&t.received?t.received:[]}}))}),(function(e){return console.log(e)}));return function(){return e()}}),[]);var Yt=dt&&[dt.sent,dt.received].flat(),qt=Object(n.useRef)(),Wt=Object(n.useRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{className:a.drawer,variant:"permanent",classes:{paper:a.drawerPaper},anchor:"left"},r.a.createElement("div",{className:a.header},r.a.createElement(d.a,{className:a.seroful,variant:"h3"},"Seroful")),r.a.createElement(le.a,null),r.a.createElement(ce.a,null,r.a.createElement(oe.a,{button:!0,key:"Home",component:"a",href:"/"},r.a.createElement(ue.a,null,r.a.createElement(Ie.a,null)),r.a.createElement(ie.a,{primary:"Home"})),r.a.createElement(oe.a,{button:!0,key:"Profile",component:"a",href:"/profile"},r.a.createElement(ue.a,null,r.a.createElement(ze.a,null)),r.a.createElement(ie.a,{primary:"Profile"})),r.a.createElement(oe.a,{key:"Friends"},r.a.createElement(ue.a,null,r.a.createElement(se.a,{badgeContent:e&&e.friends?e.friends.pending&&e.friends.pending.length:0,color:"primary"},r.a.createElement(Pe.a,null))),r.a.createElement(me.a,{"aria-controls":"friends-menu",variant:"text",className:a.friendsButton,"aria-haspopup":"true",onClick:function(e){return f(e.currentTarget)}},"Friends")),r.a.createElement(oe.a,{button:!0,key:"VideoChat"},r.a.createElement(ue.a,null,r.a.createElement(Je.a,null)),r.a.createElement(me.a,{"aria-controls":"video-menu","aria-haspopup":"true",variant:"text",className:a.videoButton,onClick:function(e){return v(e.currentTarget)}},"Video Chat")),r.a.createElement(oe.a,{button:!0,key:"Planner",component:"a",href:"/planner"},r.a.createElement(ue.a,null,r.a.createElement(qe.a,null)),r.a.createElement(ie.a,{primary:"Planner",onClick:function(){return console.log("put a menu here soon")}})),r.a.createElement(oe.a,{button:!0,key:"Journal",component:"a",href:"/journal"},r.a.createElement(ue.a,null,r.a.createElement(Re.a,null)),r.a.createElement(ie.a,{primary:"Journal"})),r.a.createElement(oe.a,{button:!0,key:"Settings",component:"a",href:"/settings"},r.a.createElement(ue.a,null,r.a.createElement(Ge.a,null)),r.a.createElement(ie.a,{primary:"Settings"})),r.a.createElement(oe.a,{button:!0,key:"Sign Out",onClick:function(){j.a.auth().signOut().then((function(){return console.log("User signed out.")}))}},r.a.createElement(ue.a,null,r.a.createElement(Me.a,null)),r.a.createElement(ie.a,{primary:"Sign Out"})))),r.a.createElement(fe.a,{id:"friends-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){return f(null)}},r.a.createElement(ae.b,{style:{textDecoration:"none",color:"inherit"},to:"/friends"},r.a.createElement(de.a,null,"Friends List")),r.a.createElement(de.a,{onClick:function(){return k(!0)}},"Requests"),r.a.createElement(de.a,{onClick:function(){return Ft(!0)}},"Send a Message"),r.a.createElement(de.a,{onClick:function(){return Y(!0)}},"Add by Username")),r.a.createElement(pe.a,{open:x,onClose:function(){return k(!1)},"aria-labelledby":"requests-modal","aria-describedby":"requests-modal"},r.a.createElement(be.a,{id:"requests-title"},"Friend Requests"),r.a.createElement(he.a,null,r.a.createElement(Ee.a,null,e&&e.friends&&(void 0===e.friends.pending?"You have no pending friend requests.":1===e.friends.pending.length?"You have one new friend request!":"You have ".concat(e.friends.pending.length," new friend requests!"))),e&&e.friends&&e.friends.pending&&r.a.createElement(ce.a,null,e.friends.pending.map((function(t){return r.a.createElement(oe.a,null,S?r.a.createElement(d.a,null,t.username," was succesfully added!"):r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{className:a.buttonGroup,"aria-label":"request-handlers"},r.a.createElement(ve.a,{color:"primary",onClick:function(){B(t.username,e.username),N(!0)}},r.a.createElement(Ce.a,null)),r.a.createElement(ve.a,{color:"secondary",onClick:function(){F(t.username,e.username)}},r.a.createElement(Ne.a,null))),r.a.createElement(d.a,null,t.username)))}))))),r.a.createElement(pe.a,{open:z,onClose:function(){return Y(!1)},"aria-labelledby":"requests-dialog","aria-describedby":"search-dialog"},r.a.createElement(be.a,{id:"search-title"},"Add by Username"),r.a.createElement(Ee.a,null,"Do you have a friend that uses Seroful you'd like to add? Feel free to search for their username and add them here!"),r.a.createElement(he.a,null,r.a.createElement(ke.a,{id:"async-user-search",open:I,onOpen:function(){return D(!0)},onClose:function(){return D(!1)},getOptionSelected:function(e,t){return e.username===t.username},getOptionLabel:function(e){return e.username},options:Q,loading:xt,onChange:function(e,t){return te(t)},renderInput:function(t){return r.a.createElement(p.a,Object.assign({},t,{label:"Add by Username",variant:"outlined",InputProps:Object(m.a)(Object(m.a)({},t.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,xt?r.a.createElement(We.a,{color:"inherit",size:20}):null,t.InputProps.endAdornment)}),error:ee&&ee.username===e.username,helperText:ee&&ee.username===e.username?"You can't add yourself as a friend, silly (although, love yourself \u2661)!":""}))}}),ee?r.a.createElement(b.a,{disabled:ee&&ee.username===e.username,className:a.addButton,onClick:function(){M(ee.username,e.username),te(null)}},"Add Friend"):null,r.a.createElement(b.a,{style:{float:"right"},className:a.addButton,onClick:function(){Y(!1),te(null)}},"Cancel"))),r.a.createElement(pe.a,{open:It,onClose:function(){Ft(!1),zt(null)}},r.a.createElement(be.a,null,"Compose New Message"),r.a.createElement(he.a,null,r.a.createElement(d.a,{component:"h4"},"Who would you like to compose your new message to?"),r.a.createElement(ke.a,{id:"async-user-search",open:Tt,onOpen:function(){return At(!0)},onClose:function(){return At(!1)},getOptionSelected:function(e,t){return e.username===t.username},getOptionLabel:function(e){return e.username},options:Ct,loading:Rt,onChange:function(e,t){return zt((function(e){return{user:t}}))},renderInput:function(e){return r.a.createElement(p.a,Object.assign({},e,{label:"Search for Friend",variant:"outlined",InputProps:Object(m.a)(Object(m.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,xt?r.a.createElement(We.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}}),r.a.createElement("br",null),r.a.createElement("br",null),Lt&&Lt.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{style:{width:"100%"},variant:"outlined",defaultValue:"",inputRef:Wt}),r.a.createElement(b.a,{style:{float:"right"},variant:"outlined",startIcon:r.a.createElement(_e.a,null),onClick:function(){console.log(Lt),R(e.username,Lt.user.username,Wt.current.value),Ft(!1)}},"Send Message")):null,r.a.createElement(b.a,{style:{float:"left"},variant:"outlined",startIcon:r.a.createElement(tt.a,null),onClick:function(){return Ft(!1)}},"Cancel"))),r.a.createElement(fe.a,{id:"video-menu",anchorEl:g,keepMounted:!0,open:Boolean(g),onClose:function(){return v(null)}},r.a.createElement(de.a,{onClick:function(){return Ve(!0)}},"View Room List"),r.a.createElement(de.a,{onClick:function(){return Ue(!0)}},"Join Room"),r.a.createElement(de.a,{onClick:function(){return De(!0)}},"Create Room")),r.a.createElement(pe.a,{open:Se,onClose:function(){return Ue(!1)},"aria-labelledby":"join-modal","aria-describedby":"join-modal"},r.a.createElement(be.a,{id:"join-title"},"Join Conference Room"),r.a.createElement(he.a,null,r.a.createElement(Ee.a,null,"Please enter the name of the Room you would like to join, as well as the Screen Name by which you would like to be addressed",r.a.createElement("form",null,r.a.createElement("div",{className:a.inputCont},r.a.createElement(p.a,{value:it,onChange:function(e){return st(e.target.value)},label:"Existing Conference Room",variant:"outlined"}),r.a.createElement(p.a,{value:Ze,onChange:function(e){return et(e.target.value)},label:"Desired Username",variant:"outlined"})),r.a.createElement(ae.b,{to:"/video",onClick:function(){Gt()}},r.a.createElement(Ke.a,null),"Join Room"))))),r.a.createElement(pe.a,{open:Fe,onClose:function(){return De(!1)},"aria-labelledby":"create-modal","aria-describedby":"create-modal"},r.a.createElement(be.a,{id:"create-title"},"Create Conference Room"),r.a.createElement(he.a,null,r.a.createElement(Ee.a,null,"Please enter the name of the Room you would like to create, as well as the Screen Name by which you would like to be addressed",r.a.createElement("form",null,r.a.createElement("div",{className:a.inputCont},r.a.createElement(p.a,{value:it,onChange:function(e){return st(e.target.value)},label:"Create Conference Room",variant:"outlined"}),r.a.createElement(p.a,{value:lt,onChange:function(e){return ct(e.target.value)},label:"Desired Username",variant:"outlined"})),r.a.createElement(ae.b,{to:"/video",onClick:function(){Ht()}},r.a.createElement(Ke.a,null),"Create Room"))))),r.a.createElement(pe.a,{open:Ye,onClose:function(){return Ve(!1)},"aria-labelledby":"view-modal","aria-describedby":"view-video-rooms"},r.a.createElement(he.a,null,r.a.createElement(Ee.a,null,r.a.createElement("h4",{className:a.activeHeader},"List of Active Video Rooms")),"// TODO: Map through array of rooms obtained via back-end, list them here // TODO: Add a 'join' button that brings up the 'Join Room' dialog with the user's username and the video name as both of the values",r.a.createElement(ce.a,null,r.a.createElement(oe.a,null,r.a.createElement(ue.a,null,r.a.createElement(Te.a,null)),r.a.createElement(ie.a,null,r.a.createElement("strong",null,"Room Name:")," ",r.a.createElement("i",null,"Daddy Dick"),r.a.createElement("br",null),r.a.createElement("strong",null,"Created By:")," ",r.a.createElement("i",null,"Mommy Vagene"),r.a.createElement("br",null),r.a.createElement("strong",null," Active Since:")," ",r.a.createElement("i",null,"Grandma"),r.a.createElement("br",null)))),r.a.createElement(le.a,null),r.a.createElement(ce.a,null,r.a.createElement(oe.a,null,r.a.createElement(ue.a,null,r.a.createElement(Te.a,null)),r.a.createElement(ie.a,null,r.a.createElement("strong",null,"Room Name:")," ",r.a.createElement("i",null,"Booby Face"),r.a.createElement("br",null),r.a.createElement("strong",null,"Created By:")," ",r.a.createElement("i",null,"Clitter Blitter"),r.a.createElement("br",null),r.a.createElement("strong",null,"Active Since:")," ",r.a.createElement("i",null,"Mom"),r.a.createElement("br",null)))),r.a.createElement(le.a,null))),Et?r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,null),r.a.createElement(Oe.a,{square:!0,className:a.paper},r.a.createElement(me.a,{className:a.boxText,onClick:function(){return gt(!1)}},"Messages"),r.a.createElement(ce.a,{className:a.list},dt&&Yt.map((function(t,a){return t&&t.sender!==e.username?r.a.createElement(n.Fragment,{key:a},r.a.createElement(oe.a,null,r.a.createElement(ye.a,null,t.photoURL!=={}|""?r.a.createElement(xe.a,{alt:"".concat(t.username),src:t.photoURL}):r.a.createElement(xe.a,null,t.sender[0])),r.a.createElement(ie.a,{primary:t.sender,secondary:t.message&&t.message}),r.a.createElement("span",{style:{float:"right"}},r.a.createElement(ve.a,{onClick:function(){return yt((function(e){return{bool:!0,recipient:t.sender,sender:t.recipient,targetMessage:t.message}}))}},r.a.createElement(Xe.a,null)),r.a.createElement(ve.a,null,r.a.createElement(Ne.a,null))))):null})))),Ot&&r.a.createElement(pe.a,{open:Ot.bool,onClose:function(){return yt(null)}},r.a.createElement(be.a,null,"New Message To: ",Ot.recipient),r.a.createElement(he.a,null,r.a.createElement("span",{style:{textAlign:"center"}},r.a.createElement(d.a,{component:"h3"},"Their Message:"),r.a.createElement(d.a,null,Ot.targetMessage),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(p.a,{variant:"outlined",value:Ot.newMessage,inputRef:qt,label:"Message Content",style:{width:400}}),r.a.createElement(le.a,null),r.a.createElement(b.a,{startIcon:r.a.createElement(tt.a,null),onClick:function(){return yt(null)}},"Cancel"),r.a.createElement(b.a,{style:{float:"right"},startIcon:r.a.createElement(_e.a,null),onClick:function(){R(Ot.sender,Ot.recipient,qt.current.value).then(yt(null))}},"Send Message")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,null),r.a.createElement(Oe.a,{square:!0,className:a.paperClosed},r.a.createElement(me.a,{className:a.text,onClick:function(){return gt(!0)}},"Messages"))))},rt=Object(X.a)((function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:151.5},header:{flexGrow:1,textAlign:"center",margin:"auto"}}})),lt=function(){var e=rt(),t=Object(q.d)(W),a=Object(n.useState)(null),l=Object(s.a)(a,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){fetch("https://api.thecatapi.com/v1/images/search",{method:"GET",headers:{"x-api-key":"a81bf42f-4b2d-4858-8557-33c41cd9e8b1"}}).then((function(e){return e.json()})).then((function(e){return o(e[0].url)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement("title",null,"Seroful - Home")),r.a.createElement("div",{className:e.container},r.a.createElement("header",{className:e.header},r.a.createElement("hr",null),r.a.createElement(d.a,{variant:"h3",className:e.title},"You're Home ",t&&t.displayName,"!"),r.a.createElement("hr",null)),r.a.createElement("main",{styles:{textAlign:"center"}},r.a.createElement(d.a,{component:"h4"},"What would you like to do?"),"Also, have a random kitty because I don't know what else to put here, this website was supposed to be for a mobile application:",r.a.createElement("br",null),c&&r.a.createElement("img",{src:c,alt:"random kitty"})),r.a.createElement(nt,null)))},ct=a(425),ot=a(426),ut=Object(X.a)((function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:151.5},header:{flexGrow:1,textAlign:"center",margin:"0 auto"},card:{textAlign:"center",width:"30%",marginLeft:"35%"},avatar:{width:e.spacing(7),height:e.spacing(7),margin:"auto"},content:{display:"flex",flexDirection:"column"}}})),it=function(){var e=[];return Y().then((function(t){e.push(t.contents.quotes[0].quote)})),e}(),st=function(e){var t=ut(),a=Object(q.d)(W),n=a.goals?a.goals.filter((function(e){var t="".concat(new Date(e.date).toString().split(" ")[1]," ").concat(new Date(e.date).toString().split(" ")[2]),a=Date.now(),n="".concat(new Date(a).toString().split(" ")[1]," ").concat(new Date(a).toString().split(" ")[2]);return console.log(t,n),t===n})):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement("title",null,"Seroful - ",a.username,"'s Profile")),r.a.createElement("div",{className:t.container},r.a.createElement("header",{className:t.header},r.a.createElement("hr",null),r.a.createElement(d.a,{variant:"h2",className:t.title},a.displayName),r.a.createElement("hr",null)),r.a.createElement(ct.a,{className:t.card},a&&a.photoURL?r.a.createElement(xe.a,{src:a.photoURL,alt:"".concat(a.username)}):r.a.createElement(xe.a,null,a.displayName[0]),r.a.createElement(ot.a,{className:t.content},r.a.createElement(d.a,{gutterBottom:!0,variant:"h4"},a.displayName),r.a.createElement(d.a,{variant:"h6"}," Quote of the Day: "),r.a.createElement(d.a,{variant:"body2",color:"textSecondary",component:"p"},it))),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("div",{style:{margin:"auto",float:"right",height:"70%",width:"35%",backgroundColor:"#fff"}},r.a.createElement(ce.a,null,n?n[0].goals.map((function(e,t){return r.a.createElement(oe.a,{key:t},"ID: ",t+1," --- Goal: ",e[["first","second","third"][t]])})):"No Goals available!"),r.a.createElement(nt,null))))},mt=Object(X.a)((function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center"},listBox:{width:"30%",marginLeft:"9%"}}})),ft=a(427),dt=function(){var e=mt(),t=Object(q.c)(W),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),u=Object(s.a)(o,2),i=u[0],m=u[1],d=Object(n.useState)(null),h=Object(s.a)(d,2),E=h[0],g=h[1],v=Object(n.useRef)();return Object(n.useEffect)((function(){var e=j.a.firestore().collection("users").doc(j.a.auth().currentUser.email).onSnapshot((function(e){var t=e.data();c(t)}),(function(e){return console.log(e)}));return function(){return e()}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement("title",null,"Seroful - ",l.displayName,"'s Friends")),r.a.createElement("div",{className:e.wrapper,style:{overflow:"hidden"}},r.a.createElement(Oe.a,{className:e.listBox},r.a.createElement(ce.a,null,l.friends&&l.friends.current?l.friends.current.map((function(e,t){var a=new Date(e.friendSince).toString();return r.a.createElement(n.Fragment,{key:t},r.a.createElement(oe.a,null,r.a.createElement(ye.a,null,e.photoURL?r.a.createElement(xe.a,{alt:e.username,src:e.photoURL}):r.a.createElement(xe.a,null,e.displayName[0])),r.a.createElement(ie.a,null,e.username,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(ve.a,{onClick:function(){return m((function(t){return{bool:!0,recipient:e.username}}))}},r.a.createElement(_e.a,null))," ",r.a.createElement(ve.a,{onClick:function(){return g((function(t){return{username:e.username,bool:!0}}))}},r.a.createElement(Ne.a,null))),r.a.createElement("br",null),"Friend Since: ",a.split(" ")[1]," ",a.split(" ")[2])))})):null,0===l.friends.current.length?r.a.createElement("h3",null,"No friends found. I'll be your friend? <3"):null)),r.a.createElement(nt,null)),r.a.createElement(pe.a,{open:i&&i.bool,onClose:function(){return m(null)}},r.a.createElement(be.a,{style:{textAlign:"center"}},"New Message To: ",i&&i.recipient),r.a.createElement(he.a,null,r.a.createElement(p.a,{variant:"outlined",defaultValue:"",inputRef:v,label:"Message Content",style:{width:400}}),r.a.createElement(le.a,null),r.a.createElement(b.a,{startIcon:r.a.createElement(tt.a,null),onClick:function(){return m(null)}},"Cancel"),r.a.createElement(b.a,{style:{float:"right"},startIcon:r.a.createElement(_e.a,null),onClick:function(){R(l.username,i.recipient,v.current.value).then(m(null))}},"Send Message"))),r.a.createElement(pe.a,{open:E&&E.bool,onClose:function(){return g(null)}},r.a.createElement(be.a,null,"Are you sure you want to delete ",E&&E.username,"?"),r.a.createElement(ft.a,null,r.a.createElement(b.a,{style:{float:"right"},onClick:function(){return g(null)}},"No"),r.a.createElement(b.a,{style:{float:"right"},onClick:function(){I(E.username),g(null)}},"Yes"))))},pt=a(40),bt=a(409),ht=a(439),Et=a(434),gt=a(436),vt=a(428),jt=a(429),Ot=a(435),yt=Object(X.a)((function(e){return{accordions:{margin:"0 auto",display:"inline-flex",alignItems:"baseline"},accordion:{width:"30vw",left:"8.5vw"},newPlanner:{margin:"0 auto",display:"flex"},planner:{marginLeft:"50vw",width:"30%"},formControl:{margin:e.spacing(1),minWidth:120}}})),xt=a(430),kt=a(431),wt=function(e){var t=Object(q.c)(W),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),h=Object(s.a)(o,2),E=h[0],g=h[1],v=Object(n.useState)(!1),j=Object(s.a)(v,2),O=j[0],y=j[1],x=Object(n.useState)(!1),k=Object(s.a)(x,2),w=k[0],C=k[1],S=Object(n.useState)(!1),N=Object(s.a)(S,2),U=N[0],T=N[1],M=Object(n.useState)(!1),B=Object(s.a)(M,2),I=B[0],F=B[1],R=Object(n.useState)(!1),D=Object(s.a)(R,2),P=D[0],H=D[1],G=Object(n.useState)(!1),Y=Object(s.a)(G,2),V=Y[0],J=Y[1],$=Object(n.useState)(!1),K=Object(s.a)($,2),Q=K[0],X=K[1],Z=Object(n.useState)({dayLength:1,homework:0,mealtimes:{breakfast:8,lunch:11,dinner:16},breaks:{count:2,durations:.25},appt:0,goals:[]}),_=Object(s.a)(Z,2),ee=_[0],te=_[1],ae=Object(n.useState)("panel1"),ne=Object(s.a)(ae,2),re=ne[0],se=ne[1],me=yt(),fe=Object(n.useState)(!1),pe=Object(s.a)(fe,2),be=pe[0],he=pe[1];return Object(n.useEffect)((function(){return Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L().then((function(e){console.log(e),c((function(t){return Object(m.a)(Object(m.a)({},t),{},{plans:e})})),he(!1)}));case 2:case"end":return e.stop()}}),e)})))}),[be]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement("title",null,"Seroful - ","".concat(l.displayName,"'s")," Planner")),r.a.createElement(nt,null),r.a.createElement("div",{className:me.newPlanner},r.a.createElement(Oe.a,{elevation:3,className:me.planner},r.a.createElement(bt.a,{className:me.formControl},r.a.createElement(ht.a,{id:"select-length"},"School Day Length"),r.a.createElement(Et.a,{open:E,labelId:"select-length",onClose:function(){return g(!1)},onOpen:function(){return g(!0)},value:ee.dayLength,style:{width:"150px"},onChange:function(e){return te((function(t){return Object(m.a)(Object(m.a)({},t),{},{dayLength:e.target.value})}))}},r.a.createElement(de.a,{value:1},"1 Hours"),r.a.createElement(de.a,{value:2},"2 Hours"),r.a.createElement(de.a,{value:3},"3 Hours"),r.a.createElement(de.a,{value:4},"4 Hours"),r.a.createElement(de.a,{value:5},"5 Hours"),r.a.createElement(de.a,{value:6},"6 Hours"),r.a.createElement(de.a,{value:7},"7 Hours"),r.a.createElement(de.a,{value:8},"8 Hours"))),r.a.createElement(bt.a,{className:me.formControl},r.a.createElement(ht.a,{id:"select-assignments"},"Assignments"),r.a.createElement(Et.a,{open:O,labelId:"select-assignments",onClose:function(){return y(!1)},onOpen:function(){return y(!0)},value:ee.homework,style:{width:"150px"},onChange:function(e){return te((function(t){return Object(m.a)(Object(m.a)({},t),{},{homework:e.target.value})}))}},r.a.createElement(de.a,{value:0},"0 assignments"),r.a.createElement(de.a,{value:1},"1 assignment"),r.a.createElement(de.a,{value:2},"2 assignments"),r.a.createElement(de.a,{value:3},"3 assignments"),r.a.createElement(de.a,{value:4},"4 assignments"),r.a.createElement(de.a,{value:5},"5 assignments"))),r.a.createElement(bt.a,{className:me.formControl},r.a.createElement(ht.a,{id:"select-appointments"},"Appointments"),r.a.createElement(Et.a,{open:Q,labelId:"select-appointments",onClose:function(){return X(!1)},onOpen:function(){return X(!0)},value:ee.appt,style:{width:"150px"},onChange:function(e){return te((function(t){return Object(m.a)(Object(m.a)({},t),{},{appt:e.target.value})}))}},r.a.createElement(de.a,{value:0},"0/None"),r.a.createElement(de.a,{value:1},"1 Hour"),r.a.createElement(de.a,{value:2},"2 Hours"),r.a.createElement(de.a,{value:3},"3 Hours"),r.a.createElement(de.a,{value:4},"4 Hours"))),r.a.createElement("br",null),r.a.createElement(bt.a,{className:me.formControl},r.a.createElement(ht.a,{id:"select-breakcount"},"# of Breaks"),r.a.createElement(Et.a,{open:w,labelId:"select-breakcount",onClose:function(){return C(!1)},onOpen:function(){return C(!0)},value:ee.breaks.count,style:{width:"150px"},onChange:function(e){return te((function(t){return Object(m.a)(Object(m.a)({},t),{},{breaks:Object(m.a)(Object(m.a)({},t.breaks),{},{count:e.target.value})})}))}},r.a.createElement(de.a,{value:2},"2 breaks"),r.a.createElement(de.a,{value:3},"3 breaks"),r.a.createElement(de.a,{value:4},"4 breaks"),r.a.createElement(de.a,{value:5},"5 breaks"),r.a.createElement(de.a,{value:6},"6 breaks"))),r.a.createElement(bt.a,{className:me.formControl},r.a.createElement(ht.a,{id:"select-breakduration"},"Break Duration"),r.a.createElement(Et.a,{open:U,labelId:"select-breakduration",onClose:function(){return T(!1)},onOpen:function(){return T(!0)},value:ee.breaks.durations,style:{width:"150px"},onChange:function(e){return te((function(t){return Object(m.a)(Object(m.a)({},t),{},{breaks:Object(m.a)(Object(m.a)({},t.breaks),{},{durations:e.target.value})})}))}},r.a.createElement(de.a,{value:.25},"15 Minutes"),r.a.createElement(de.a,{value:.5},"30 Minutes"),r.a.createElement(de.a,{value:.75},"45 Minutes"),r.a.createElement(de.a,{value:1},"1 Hour"),r.a.createElement(de.a,{value:1.25},"1 1/4 Hours"),r.a.createElement(de.a,{value:1.5},"1 1/2 Hours"))),r.a.createElement("br",null),r.a.createElement(bt.a,{className:me.formControl},r.a.createElement(ht.a,{id:"select-breakfast"},"Breakfastime"),r.a.createElement(Et.a,{open:I,labelId:"select-breakduration",onClose:function(){return F(!1)},onOpen:function(){return F(!0)},value:ee.mealtimes.breakfast,style:{width:"150px"},onChange:function(e){return te((function(t){return Object(m.a)(Object(m.a)({},t),{},{mealtimes:Object(m.a)(Object(m.a)({},t.mealtimes),{},{breakfast:e.target.value})})}))}},r.a.createElement(de.a,{value:8},"8:00 AM"),r.a.createElement(de.a,{value:8.5},"8:30 AM"),r.a.createElement(de.a,{value:9},"9:00 AM"),r.a.createElement(de.a,{value:9.5},"9:30 AM"),r.a.createElement(de.a,{value:10},"10:00 AM"),r.a.createElement(de.a,{value:10.5},"10:30 AM"),r.a.createElement(de.a,{value:11},"11:00 AM"))),r.a.createElement(bt.a,{className:me.formControl},r.a.createElement(ht.a,{id:"select-lunch"},"Lunchtime"),r.a.createElement(Et.a,{open:P,labelId:"select-lunch",onClose:function(){return H(!1)},onOpen:function(){return H(!0)},value:ee.mealtimes.lunch,style:{width:"150px"},onChange:function(e){return te((function(t){return Object(m.a)(Object(m.a)({},t),{},{mealtimes:Object(m.a)(Object(m.a)({},t.mealtimes),{},{lunch:e.target.value})})}))}},r.a.createElement(de.a,{value:11},"11:00 AM"),r.a.createElement(de.a,{value:11.5},"11:30 AM"),r.a.createElement(de.a,{value:12},"12:00 PM"),r.a.createElement(de.a,{value:12.5},"12:30 PM"),r.a.createElement(de.a,{value:13},"1:00 PM"),r.a.createElement(de.a,{value:13.5},"1:30 PM"))),r.a.createElement(bt.a,{className:me.formControl},r.a.createElement(ht.a,{id:"select-dinner"},"Dinnertime"),r.a.createElement(Et.a,{open:V,labelId:"select-dinner",onClose:function(){return J(!1)},onOpen:function(){return J(!0)},value:ee.mealtimes.dinner,style:{width:"150px"},onChange:function(e){return te((function(t){return Object(m.a)(Object(m.a)({},t),{},{mealtimes:Object(m.a)(Object(m.a)({},t.mealtimes),{},{dinner:e.target.value})})}))}},r.a.createElement(de.a,{value:16},"4:00 PM"),r.a.createElement(de.a,{value:16.5},"4:30 PM"),r.a.createElement(de.a,{value:17},"5:00 PM"),r.a.createElement(de.a,{value:17.5},"5:30 PM"),r.a.createElement(de.a,{value:18},"6:00 PM"),r.a.createElement(de.a,{value:18.5},"6:30 PM"),r.a.createElement(de.a,{value:19},"7:00 PM"),r.a.createElement(de.a,{value:19.5},"7:30 PM"),r.a.createElement(de.a,{value:20},"8:00 PM"))),r.a.createElement("br",null),r.a.createElement("form",{className:me.fields,noValidate:!0,autoComplete:"off"},r.a.createElement(p.a,{id:"goal1",label:"First Goal",value:ee.goals.first,onBlur:function(e){var t=e.target.value;""!==t&&te((function(e){return Object(m.a)(Object(m.a)({},e),{},{goals:[].concat(Object(pt.a)(e.goals),[{first:t}])})}))}}),r.a.createElement("br",null),r.a.createElement(p.a,{id:"goal2",label:"Second Goal",value:ee.goals.second,onBlur:function(e){var t=e.target.value;""!==t&&te((function(e){return Object(m.a)(Object(m.a)({},e),{},{goals:[].concat(Object(pt.a)(e.goals),[{second:t}])})}))}}),r.a.createElement("br",null),r.a.createElement(p.a,{id:"goal3",label:"Third Goal",value:ee.goals.third,onBlur:function(e){var t=e.target.value;""!==t&&te((function(e){return Object(m.a)(Object(m.a)({},e),{},{goals:[].concat(Object(pt.a)(e.goals),[{third:t}])})}))}})),r.a.createElement(b.a,{variant:"contained",style:{float:"right"},onClick:function(){z(ee),A(ee.goals),te((function(e){return{dayLength:1,homework:0,mealtimes:{breakfast:8,lunch:11,dinner:16},breaks:{count:2,durations:.25},appt:0,goals:{first:"",second:"",third:""}}})),he(!0)}},"Submit"))),r.a.createElement("div",{className:me.accordions},l.plans&&l.plans.map((function(e,t){var a,l=new Date(e.timestamp).toString();return console.log(e),r.a.createElement(n.Fragment,{key:t},r.a.createElement(gt.a,{expanded:re==="panel-".concat(t),onChange:(a="panel-".concat(t),function(e,t){return se(!!t&&a)}),className:me.accordion},r.a.createElement(vt.a,{"aria-controls":"panel".concat(t,"-content"),id:"panel-".concat(t)},r.a.createElement(d.a,null,"".concat(l.split(" ")[1]," ").concat(l.split(" ")[2]," ").concat(l.split(" ")[4]))),r.a.createElement(le.a,null),r.a.createElement(jt.a,null,r.a.createElement(d.a,null,"Today's Goals:"),r.a.createElement(ce.a,{dense:!0,component:"div",role:"list"},r.a.createElement(oe.a,{key:"".concat(t,"-goal1"),role:"listitem"},r.a.createElement(ue.a,null,r.a.createElement(Ot.a,{checked:!1,icon:r.a.createElement(xt.a,null),checkedIcon:r.a.createElement(kt.a,{style:{color:"green"}})})),r.a.createElement(ie.a,{id:"test2",primary:r.a.createElement("i",null,e.goals[0].first)})),r.a.createElement(oe.a,{key:"".concat(t,"-goal2"),role:"listitem"},r.a.createElement(ue.a,null,r.a.createElement(Ot.a,{checked:!1,icon:r.a.createElement(xt.a,null),checkedIcon:r.a.createElement(kt.a,{style:{color:"green"}})})),r.a.createElement(ie.a,{id:"test2",primary:r.a.createElement("i",null,e.goals[1].second)})),r.a.createElement(oe.a,{key:"".concat(t,"-goal3"),role:"listitem"},r.a.createElement(ue.a,null,r.a.createElement(Ot.a,{checked:!1,icon:r.a.createElement(xt.a,null),checkedIcon:r.a.createElement(kt.a,{style:{color:"green"}})})),r.a.createElement(ie.a,{id:"test2",primary:r.a.createElement("i",null,e.goals[2].third)}))),"You have ".concat(e.dayLength," hour(s) in your school day. ").concat(e.appt?"You also have ".concat(e.appt," hours in appointments today, which reduces your school day length to ").concat(e.dayLength-e.appt," hour(s)."):"You don't have any appointments today, so that won't affect your school day."," You also chose to take ").concat(e.breaks.count," breaks, lasting ").concat(e.breaks.durations<1?e.breaks.durations.toString().split(".")[1]:e.breaks.durations," ").concat(e.breaks.durations<1?"minutes":"hours"," each. With breakfast at ").concat(e.mealtimes.breakfast%1===0?e.mealtimes.breakfast:"".concat(e.mealtimes.breakfast.toString().split(".")[0],":").concat(Math.floor(Math.abs(60*Number(e.mealtimes.breakfast.toString().split(".")[1]))/10)),", you should try to allot yourself around 15 minutes for breakfast."),r.a.createElement("br",null)," ".concat(0!==e.homework?"You have ".concat(e.homework," assignment(s). Since you have ").concat(e.dayLength-e.appt," hours in your school day, you should try to shoot for approximately one assignment per ").concat(e.homework/e.dayLength," hour(s)."):"You don't have any homework assignments today, so you could catch up on some studying or take some time for yourself today."),r.a.createElement("br",null),"Also, remember that you have lunch at around ".concat(e.mealtimes.lunch%1===0?e.mealtimes.lunch<12?e.mealtimes.lunch:e.mealtimes.lunch-12:"".concat((e.mealtimes.lunch<12?e.mealtimes.lunch:e.mealtimes.lunch-12).toString().split(".")[0],":").concat(Math.floor(Math.abs(60*Number((e.mealtimes.lunch<12?e.mealtimes.lunch:e.mealtimes.lunch-12).toString().split(".")[1]))/10))," o'clock, and dinner at approximately ").concat(e.mealtimes.dinner%1===0?e.mealtimes.dinner-12:"".concat((e.mealtimes.dinner-12).toString().split(".")[0],":").concat(Math.floor(Math.abs(60*Number((e.mealtimes.dinner-12).toString().split(".")[1]))/10))," o'clock. Have a great day, and make sure to take time to yourself and focus. Breathe. You got this."))))}))))},Ct=Object(X.a)((function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:151.5},header:{flexGrow:1,textAlign:"center",margin:"auto"},inter:{display:"flex",width:"60%",alignSelf:"center",justifyContent:"space-between"},pastEntries:{width:"30%",marginTop:"7%",marginLeft:"20%"},form:{flexGrow:1,border:"1px solid",width:"30%"},submit:{alignSelf:"flex-end"}}})),St=a(7),Nt=function(){var e=Ct(),t=Object(St.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(gt.a),a=Object(St.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(vt.a),l=Object(St.a)((function(e){return{root:{padding:e.spacing(2)}}}))(jt.a),c=Object(n.useState)("panel-0"),o=Object(s.a)(c,2),h=o[0],E=o[1],g=Object(n.useState)(!1),v=Object(s.a)(g,2),j=v[0],O=v[1],y=Object(q.c)(W),x=Object(s.a)(y,2),k=x[0],w=x[1];console.log(k),Object(n.useEffect)((function(){return Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P().then((function(e){console.log(e),w((function(t){return Object(m.a)(Object(m.a)({},t),{},{journals:e})})),O(!1)}));case 2:case"end":return e.stop()}}),e)})))}),[j]);var C=Object(n.createRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement("title",null,"Seroful - Journal")),r.a.createElement(nt,null),r.a.createElement("div",{className:e.container},r.a.createElement("header",{className:e.header},r.a.createElement("hr",null),r.a.createElement(d.a,{variant:"h3",className:e.title},k.displayName,"'s Journal Entries"),r.a.createElement("hr",null)),r.a.createElement("div",{className:e.inter},r.a.createElement("div",{className:e.pastEntries},k.journals&&k.journals.map((function(e,n){var c,o=new Date(e.timestamp).toString();return r.a.createElement(t,{square:!0,expanded:h==="panel-".concat(n),onChange:(c="panel-".concat(n),function(e,t){E(!!t&&c)})},r.a.createElement(a,{"aria-controls":"panel".concat(n,"-content"),id:"panel".concat(n,"-header")},r.a.createElement(d.a,null,"".concat(o.split(" ")[1]," ").concat(o.split(" ")[2]," ").concat(o.split(" ")[4]))),r.a.createElement(l,null,r.a.createElement(d.a,null,console.log(e),e.entry)))}))),r.a.createElement("div",{className:e.form},r.a.createElement("form",null,r.a.createElement(p.a,{label:"New Entry",type:"text",variant:"filled",className:e.newEntry,multiline:!0,inputRef:C}),r.a.createElement("br",null),r.a.createElement(b.a,{className:e.submit,variant:"contained",onClick:function(e){e.persist(),D(C.current.value),O(!0)}},"Add Journal Entry"))))))},Ut=a(63),Tt=Object(X.a)((function(e){var t;return{container:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:151.5},header:{flexGrow:1,textAlign:"center",margin:"auto"},imgForm:{margin:"auto",display:"flex",justifyContent:"centered",flexDirection:"column",flexGrow:1,border:"1px solid",width:"60%",height:"50%"},textForm:{margin:"auto",display:"flex",justifyContent:"space-between",flexDirection:"column",flexGrow:1,border:"1px solid",width:"60%",height:"50%"},instructor:{alignSelf:"center"},submit:{alignSelf:"flex-end"},image:(t={position:"relative",height:200},Object(Ut.a)(t,e.breakpoints.down("xs"),{width:"100% !important",height:100}),Object(Ut.a)(t,"&:hover, &$focusVisible",{zIndex:1,"& $imageBackdrop":{opacity:.15},"& $imageMarked":{opacity:0},"& $imageTitle":{border:"4px solid currentColor"}}),t),focusVisible:{},imageButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%"},imageBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4,transition:e.transitions.create("opacity")},imageTitle:{position:"relative",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(4),"px ").concat(e.spacing(1)+6,"px")},imageMarked:{height:3,width:18,backgroundColor:e.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:e.transitions.create("opacity")},input:{visibility:"hidden",ref:"fileUploader"},inputs:{textAlign:"center"}}})),At=a(432),Mt=a(199),Bt=a.n(Mt),It=function(){var e=Tt(),t=Object(q.c)(W),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),h=Object(s.a)(o,2),E=h[0],g=h[1],v=Object(n.useState)(null),O=Object(s.a)(v,2),y=O[0],x=O[1],k=(Object(n.useRef)(null),function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!E){e.next=15;break}return(a=new FormData).set("image",E,"".concat(Date.now(),"-").concat(E.name)),e.next=7,U(a);case 7:if(!(n=e.sent)){e.next=15;break}return r={photoURL:n.fileLocation},e.next=12,N(r);case 12:l=e.sent,console.log(l),c((function(e){return Object(m.a)(Object(m.a)({},e),{},{photoURL:n.fileLocation})}));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}()),w=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(y),y&&y.email&&j.a.auth().currentUser.updateEmail(y.email),N(y);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement("title",null,"Seroful - Settings")),r.a.createElement(nt,null),r.a.createElement("div",{className:e.container},r.a.createElement("header",{className:e.header},r.a.createElement("hr",null),r.a.createElement(d.a,{variant:"h3",className:e.title},l.displayName,"'s Settings"),r.a.createElement("hr",null)),r.a.createElement(d.a,{className:e.instructor,variant:"h6"},"Insert Updates Below:"),r.a.createElement("form",{style:{textAlign:"center"},onSubmit:function(e){return k(e)}},r.a.createElement("label",{htmlFor:"image"},r.a.createElement("input",{id:"image",name:"image",type:"file",style:{display:"none"},onChange:function(e){return g(e.target.files[0])}}),r.a.createElement(At.a,{color:"secondary",size:"small",component:"span","aria-label":"add",variant:"extended"},r.a.createElement(Bt.a,null)," Upload Photo"),E?r.a.createElement(At.a,{color:"secondary",size:"small",type:"submit",component:"button","aria-label":"add",variant:"extended"},"Confirm"):null)),r.a.createElement("br",null),r.a.createElement("div",{className:e.inputs},r.a.createElement(d.a,{variant:"caption"},"* Any options left blank will not be changed."),r.a.createElement("br",null),r.a.createElement(p.a,{onChange:function(e){var t=e.target.value;x((function(e){return Object(m.a)(Object(m.a)({},e),{},{username:t})}))},label:"New Username"}),r.a.createElement("br",null),r.a.createElement(p.a,{onChange:function(e){var t=e.target.value;x((function(e){return Object(m.a)(Object(m.a)({},e),{},{displayName:t})}))},label:"New Display Name"}),r.a.createElement("br",null),r.a.createElement(p.a,{onChange:function(e){var t=e.target.value;x((function(e){return Object(m.a)(Object(m.a)({},e),{},{email:t})}))},label:"New Email"})),r.a.createElement(b.a,{className:"btn",onClick:function(){return w()}},"Submit New User Info")))},Ft=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){fetch("https://dog.ceo/api/breeds/image/random",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return l(e.message)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,"Ruh-Roh, you're not supposed to be here. Click on the doggy to go home."),r.a.createElement(ae.b,{to:"/"},a&&r.a.createElement("img",{src:a,alt:"issa puppy"})))},Rt=a(200),Dt=a.n(Rt),Pt=a(201),Lt=a.n(Pt),zt=function(){var e=r.a.createElement(Dt.a,{fontSize:"small"}),t=r.a.createElement(Lt.a,{fontSize:"small"}),a=Object(q.e)(V),l=Object(n.useState)(!0),c=Object(s.a)(l,2),o=c[0],u=c[1],i=Object(n.useState)(!1),f=Object(s.a)(i,2),h=f[0],E=f[1],g=Object(n.useState)([]),v=Object(s.a)(g,2),O=v[0],y=v[1],x=Object(q.c)(W),k=Object(s.a)(x,2),w=k[0],C=k[1];Object(n.useEffect)((function(){var e=[];j.a.firestore().collection("illnesses").get().then((function(t){return t.forEach((function(t){return e.push(t.data())}))})).catch((function(e){return console.log(e)})),y((function(t){return e}))}),[]);return r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(pe.a,{open:o,onClose:function(){return u(!1)},"aria-labelledby":"title",disableBackdropClick:!0,disableEscapeKeyDown:!0},r.a.createElement(be.a,{id:"title"},"Additional Information"),r.a.createElement(he.a,null,r.a.createElement(Ee.a,null,"Thank you for registering! In order to best serve your Seroful experience, we would like to add some additional information about any medicines and mental illnesses you might have. Would you like to add this information now? You can opt to add it later, or not at all.",r.a.createElement("br",null),r.a.createElement(d.a,{variant:"caption"},"This information is strictly confidential, only you can see it!"))),r.a.createElement(ft.a,null,r.a.createElement(b.a,{variant:"contained",style:{textTransform:"capitalize"},onClick:function(){return a(!1)}},"No Thanks"),r.a.createElement(b.a,{variant:"contained",style:{textTransform:"capitalize"},onClick:function(){return E(!0),void u(!1)}},"Let's Go"))),h&&r.a.createElement(pe.a,{open:h,onClose:function(){return E(!1)},"aria-labelledby":"title",disableBackdropClick:!0,disableEscapeKeyDown:!0},r.a.createElement(be.a,{id:"title"},"Additional Information"),r.a.createElement(he.a,null,r.a.createElement(Ee.a,null,"Thank you so much! You can add as many options below as you'd like. Pressing cancel will take no action and no information will be taken in."),r.a.createElement(ke.a,{multiple:!0,id:"illnesses",options:O,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.illness},renderOption:function(a,n){var l=n.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot.a,{icon:e,style:{marginRight:8},checkedIcon:t,checked:l}),a.illness)},renderInput:function(e){return r.a.createElement(p.a,Object.assign({},e,{variant:"filled",label:"Illnesses (Select Multiple)",placeholder:"Illnesses"}))},onChange:function(e,t){return C((function(e){return Object(m.a)(Object(m.a)({},e),{},{illnesses:t})}))}}),r.a.createElement(p.a,{multiline:!0,helperText:"Put each medicine on a new line!",type:"array",label:"Medicines (Separate each on a new line)",placeholder:"Medicines",onBlur:function(e){return function(e){for(var t=e.target.value.split("\n"),a=function(e){C((function(a){return Object(m.a)(Object(m.a)({},a),{},{medicines:[].concat(Object(pt.a)(a.medicines),[{name:t[e],freq:0}])})}))},n=0;n<t.length;n++)a(n);console.log(w)}(e)},fullWidth:!0,variant:"filled"})),r.a.createElement(ft.a,null,r.a.createElement(b.a,{variant:"contained",style:{textTransform:"capitalize"},onClick:function(){return a(!1)}},"Cancel"),r.a.createElement(b.a,{variant:"contained",style:{textTransform:"capitalize"},onClick:function(){return N(w),void a(!1)}},"Finish"))))},Ht=a(203),Gt=a.n(Ht),Yt=a(202),qt=a.n(Yt),Wt=Object(X.a)((function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",margin:"auto",border:"2px solid white",borderRadius:"5%",backgroundColor:"slategrey",padding:"2%"},header:{flexGrow:1,textAlign:"center",margin:"auto"},partVid:{border:"1px solid white"},butts:{display:"flex",justifyContent:"space-around"},muteButt:{width:"10%",display:"inline"},vidButt:{width:"10%",display:"inline"}}})),Vt=function(e){var t=e.participant,a=Wt(),l=Object(n.useState)([]),c=Object(s.a)(l,2),o=c[0],u=c[1],i=Object(n.useState)([]),m=Object(s.a)(i,2),f=m[0],d=m[1],p=Object(n.useRef)(),b=Object(n.useRef)(),h=Object(n.useState)(!1),E=Object(s.a)(h,2),g=(E[0],E[1],Object(n.useState)(!1)),v=Object(s.a)(g,2),j=(v[0],v[1],Object(q.d)(W));console.log(j);var O=function(e){return Array.from(e.values()).map((function(e){return e.track})).filter((function(e){return null!==e}))};return Object(n.useEffect)((function(){return u(O(t.videoTracks)),d(O(t.audioTracks)),t.on("trackSubscribed",(function(e){"video"===e.kind?u((function(t){return[].concat(Object(pt.a)(t),[e])})):d((function(t){return[].concat(Object(pt.a)(t),[e])}))})),t.on("trackUnsubscribed",(function(e){"video"===e.type?u((function(t){return t.filter((function(t){return t!==e}))})):d((function(t){return t.filter((function(t){return t!==e}))}))})),function(){u([]),d([]),t.removeAllListeners()}}),[t]),Object(n.useEffect)((function(){var e=o[0];if(e)return e.attach(p.current),function(){e.detach()}}),[o]),Object(n.useEffect)((function(){var e=f[0];if(e)return e.attach(b.current),function(){e.detach()}}),[f]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.container},r.a.createElement("h4",{className:a.header},t.identity),r.a.createElement("video",{className:a.partVid,ref:p,autoPlay:!0}),r.a.createElement("audio",{ref:b,autoPlay:!0})))},Jt=a(358),$t=Object(Jt.a)((function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:151.5},header:{flexGrow:1,textAlign:"center",margin:"auto"},title:{},locPart:{display:"flex",flexDirection:"column",justifyContent:"center"},logoutButt:{marginTop:"5px",boxShadow:"5px 2px 2px slategrey",width:"25%",left:"34vw"},buttCont:{display:"flex",justifyContent:"space-around"},remParts:{}}})),Kt=function(e){var t=e.roomName,a=e.token,l=e.handleExit,c=$t(),o=Object(n.useState)(null),m=Object(s.a)(o,2),p=m[0],h=m[1],E=Object(n.useState)([]),g=Object(s.a)(E,2),v=g[0],j=g[1],O=Object(n.useState)(!1),y=Object(s.a)(O,2),x=y[0],k=y[1],w=v.map((function(e){return r.a.createElement(Vt,{key:e.sid,participant:e})}));return Object(n.useEffect)((function(){var e=function(e){console.log(e),j((function(t){return[].concat(Object(pt.a)(t),[e])}))},n=function(e){j((function(t){return t.filter((function(t){return t!==e}))}))};return qt.a.connect(a,{name:t}).then(function(){var t=Object(i.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(a),console.log(a.participants),a.on("participantConnected",e),a.on("participantDisconnected",n),a.participants.forEach(e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),function(){h((function(e){return e&&"connected"===e.localParticipant.state?(e.localParticipant.tracks.forEach((function(e){e.track.stop()})),e.disconnect(),null):e}))}}),[t,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement("title",null,"Seroful - ",t)),r.a.createElement("div",{className:c.container},r.a.createElement("header",{className:c.header},r.a.createElement("hr",null),r.a.createElement(d.a,{variant:"h3",className:c.title},"Room: ",t),r.a.createElement("hr",null)),r.a.createElement("div",{className:c.locPart},p?r.a.createElement(Vt,{key:p.localParticipant.sid,participant:p.localParticipant}):"",r.a.createElement(b.a,{className:c.logoutButt,onClick:function(){return k(!0)}},"Say Goodbye")),r.a.createElement(pe.a,{open:x,onClose:function(){return k(!1)},"aria-label":"logout-modal","aria-describedby":"logout-modal"},r.a.createElement(be.a,{id:"logout-title"},"Are You Sure?"),r.a.createElement(he.a,null,r.a.createElement(Ee.a,null,"Would you REALLY like to leave the meeting?"),r.a.createElement("div",{className:c.buttCont},r.a.createElement(ae.b,{onClick:l,to:"/"},r.a.createElement(Gt.a,{label:""}),"Yes, Leave"),r.a.createElement(me.a,{onClick:function(){return k(!1)}},r.a.createElement(tt.a,{label:""}),"Oops, Stay")))),r.a.createElement("h3",null,"Remote Participants"),r.a.createElement("div",{className:c.remParts},w)))},Qt=function(){var e=Object(q.d)($),t=Object(q.c)(J),a=Object(s.a)(t,2),n=a[0],l=a[1],c=function(){return l(null)};return n?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement("title",null,"Seroful - Video Chat")),r.a.createElement(nt,null),r.a.createElement(Kt,{roomName:e,token:n,handlExit:function(){return c}})):null},Xt=function(){var e=Object(q.d)(V);return r.a.createElement(ae.a,null,r.a.createElement(ne.c,null,r.a.createElement(ne.a,{exact:!0,path:"/",render:function(){return e?r.a.createElement(zt,null):r.a.createElement(lt,null)}}),r.a.createElement(ne.a,{path:"/profile",render:function(){return r.a.createElement(st,null)}}),r.a.createElement(ne.a,{path:"/friends",render:function(){return r.a.createElement(dt,null)}}),r.a.createElement(ne.a,{path:"/video",render:function(){return r.a.createElement(Qt,null)}}),r.a.createElement(ne.a,{path:"/planner",render:function(){return r.a.createElement(wt,null)}}),r.a.createElement(ne.a,{path:"/journal",render:function(){return r.a.createElement(Nt,null)}}),r.a.createElement(ne.a,{path:"/settings",render:function(){return r.a.createElement(It,null)}}),r.a.createElement(ne.a,{path:"*",render:function(){return r.a.createElement(Ft,null)}})))};a(352);j.a.initializeApp({apiKey:"AIzaSyBJg9iVnvGl6F5TFBRTmoWn-3A5IxTgywI",authDomain:"seroful.firebaseapp.com",databaseURL:"https://seroful.firebaseio.com",projectId:"seroful",storageBucket:"seroful.appspot.com",messagingSenderId:"531332449318",appId:"1:531332449318:web:9b85133f0399aa898fd2e7",measurementId:"G-XYW74Z91MJ"});var Zt=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(),o=Object(s.a)(c,2),m=o[0],f=o[1],d=Object(q.e)(W),p=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(t),!t){e.next=4;break}return e.next=4,C(t.email).then((function(e){return d(e)}));case 4:a&&l(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return j.a.auth().onAuthStateChanged(p)}),[]),a?null:m?r.a.createElement(Xt,null):r.a.createElement(te,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(q.a,null,r.a.createElement(Zt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[217,1,2]]]);
//# sourceMappingURL=main.e8c2425e.chunk.js.map