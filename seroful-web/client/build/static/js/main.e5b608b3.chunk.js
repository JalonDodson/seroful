(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,a,t){e.exports=t(141)},140:function(e,a,t){},141:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(8),c=t.n(l),o=t(12),u=t.n(o),i=t(22),s=t(7),m=t(5),f=t(64),p=t(181),b=t(176),E=t(172),d=t(89),g=t.n(d),h=t(33),O=t.n(h),j=(t(67),t(44)),v=t.n(j),w=function(){var e=Object(i.a)(u.a.mark((function e(a,t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("/users",{username:a,displayName:t,email:n});case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a,t,n){return e.apply(this,arguments)}}(),y=t(17),x=Object(y.b)({key:"userState",default:{username:"",email:"",pw:"",displayName:"",photoURL:"",gradeLevel:0,medicines:[{}],illnesses:[{}],plans:[{}]}}),k=Object(y.b)({key:"userToken",default:""}),N=(Object(y.b)({key:"msgState",default:""}),Object(y.b)({key:"loginHelperState",default:{txt:"",errorMsg:"",emailError:!1,pwError:!1}})),S=Object(y.b)({key:"registerHelperState",default:{txt:"",pwText:"",errorMsg:"",emailError:!1}}),T=t(68),F=t.n(T),C=t(169),M=t(100),P=Object(C.a)((function(e){return{loginDiv:{textAlign:"center"},seroful:{fontFamily:"Happy Monkey",color:"#F2EDEB",fontSize:"56px",fontWeight:"bold",fontStyle:"italic"},images:{height:350,width:350},button1:{backgroundImage:"linear-gradient(90deg, rgba(236,217,238,1) 0%, rgba(226,221,220,1) 51%, rgba(236,217,238,1) 100%);",width:"9.5%",marginTop:".5%",marginRight:"1%"},button2:{backgroundImage:"linear-gradient(90deg, rgba(236,217,238,1) 0%, rgba(226,221,220,1) 51%, rgba(236,217,238,1) 100%);",marginTop:".5%",width:"9.5%"},email:{width:"20%"},username:{width:"20%"},names:{width:"20%"},password:{width:"20%"},helper:{fontStyle:"italic",color:"#FF0000",fontSize:20,fontFamily:"Happy Monkey",textTransform:"capitalize"}}})),D=Object(M.a)({palette:{primary:{main:"#F2EDEB"}}}),I=function(e){var a=P(),t=Object(n.useState)(!1),l=Object(s.a)(t,2),c=l[0],o=l[1],d=Object(y.c)(N),h=Object(s.a)(d,2),j=h[0],v=h[1],k=Object(y.c)(S),T=Object(s.a)(k,2),C=T[0],M=T[1],I=Object(y.c)(x),A=Object(s.a)(I,2),B=A[0],H=A[1],U=Object(n.useState)(""),W=Object(s.a)(U,2),J=W[0],R=W[1],z=Object(n.useState)({error:!1,helperText:""}),L=Object(s.a)(z,2),V=L[0],G=L[1];Object(n.useEffect)((function(){j.errorMsg&&("auth/invalid-email"===j.errorMsg?v((function(e){return Object(m.a)(Object(m.a)({},e),{},{txt:"Oh noes, that's an invalid email!",emailError:!0})})):"auth/user-not-found"===j.errorMsg?v((function(e){return Object(m.a)(Object(m.a)({},e),{},{txt:"Dangit, that email isn't registered!",emailError:!0})})):"auth/wrong-password"===j.errorMsg&&v((function(e){return Object(m.a)(Object(m.a)({},e),{},{pwText:"Aw man, that's the wrong password! Remember, it's case-sensitive!",pwError:!0})})))}),[j.errorMsg]),Object(n.useEffect)((function(){C.errorMsg&&("auth/email-already-in-use"===C.errorMsg?M((function(e){return Object(m.a)(Object(m.a)({},e),{},{txt:"Aw snap, that email is already in use! Did you mean to login?",emailError:!0})})):"auth/invalid-email"===C.errorMsg&&M((function(e){return Object(m.a)(Object(m.a)({},e),{},{txt:"Oh noes, that's an invalid email!",emailError:!0})})))}),[C.errorMsg]),Object(n.useEffect)((function(){J&&J!==B.pw?G((function(e){return{error:!0,helperText:"Passwords do not match!"}})):G((function(e){return{error:!1,helperText:""}}))}),[J]);var K=function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.a.auth().signInWithEmailAndPassword(B.email,B.pw).then(console.log("User has triggered a login attempt.")).catch((function(e){v((function(a){return Object(m.a)(Object(m.a)({},a),{},{errorMsg:e.code})})),console.log(e)})),H((function(e){return{pw:"",email:"",username:"",displayName:""}}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,c?r.a.createElement("div",{className:a.loginDiv},r.a.createElement(E.a,{theme:D},r.a.createElement(f.a,{className:a.seroful,variant:"h3"},"Seroful"),r.a.createElement("img",{className:a.images,src:F.a,alt:"molecule.png"}),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(p.a,{name:"display",label:"Display Name",variant:"filled",className:a.names,value:B.displayName,onChange:function(e){return H((function(a){return Object(m.a)(Object(m.a)({},a),{},{displayName:e.target.value})}))}}),r.a.createElement("br",null),r.a.createElement(p.a,{name:"username",label:"Username",variant:"filled",className:a.username,value:B.username,onChange:function(e){return H((function(a){return Object(m.a)(Object(m.a)({},a),{},{username:e.target.value})}))}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(p.a,{error:C.emailError,helperText:C.txt,name:"email",onFocus:function(){return M((function(e){return Object(m.a)(Object(m.a)({},e),{},{emailError:!1,txt:""})}))},label:"Email",variant:"filled",className:a.email,value:B.email,onChange:function(e){return H((function(a){return Object(m.a)(Object(m.a)({},a),{},{email:e.target.value})}))}}),r.a.createElement("br",null),r.a.createElement(p.a,{name:"password",label:"Password",type:"password",variant:"filled",className:a.password,value:B.pw,onChange:function(e){return H((function(a){return Object(m.a)(Object(m.a)({},a),{},{pw:e.target.value})}))}}),r.a.createElement("br",null),r.a.createElement(p.a,{error:V.error,helperText:V.helperText,label:"Confirm Password",type:"password",variant:"filled",value:J,className:a.password,onBlur:function(){return G((function(e){return{helperText:"",error:!1}}))},onChange:function(e){return R(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(b.a,{variant:"contained",className:a.button1,onClick:function(){return o(!1)},startIcon:r.a.createElement(g.a,null)},"Back to Login"),r.a.createElement(b.a,{variant:"contained",className:a.button2,onClick:function(){return function(){var e=B.username,a=B.displayName,t=B.email,n=B.pw;console.log(e,a,t);try{O.a.auth().createUserWithEmailAndPassword(t,n),w(e,a,t)}catch(r){M((function(e){return Object(m.a)(Object(m.a)({},e),{},{errorMsg:r.code})})),console.log(r)}H((function(e){return{pw:"",email:"",username:"",displayName:""}}))}()}},"Register")))):r.a.createElement("div",{className:a.loginDiv},r.a.createElement(E.a,{theme:D},r.a.createElement(f.a,{className:a.seroful,variant:"h3"},"Seroful"),r.a.createElement("img",{className:a.images,src:F.a,alt:"molecule.png"}),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(p.a,{label:"Email",variant:"filled",className:a.email,error:j.emailError,helperText:j.txt,value:B.email,onFocus:function(){return v((function(e){return Object(m.a)(Object(m.a)({},e),{},{emailError:!1,txt:""})}))},onChange:function(e){return H((function(a){return Object(m.a)(Object(m.a)({},a),{},{email:e.target.value})}))}}),r.a.createElement("br",null),r.a.createElement(p.a,{label:"Password",type:"password",variant:"filled",className:a.password,error:j.pwError,helperText:j.pwText,value:B.pw,onFocus:function(){return v((function(e){return Object(m.a)(Object(m.a)({},e),{},{pwError:!1,pwText:""})}))},onChange:function(e){return H((function(a){return Object(m.a)(Object(m.a)({},a),{},{pw:e.target.value})}))}}),r.a.createElement("br",null),r.a.createElement(b.a,{variant:"contained",className:a.button1,onClick:function(){return K()}},"Login"),r.a.createElement(b.a,{variant:"contained",className:a.button2,onClick:function(){return o(!0)}},"Register")))))},A=t(99),B=t(13),H=t(40),U=t(183),W=t(177),J=t(175),R=t(178),z=t(179),L=t(180),V=t(98),G=t.n(V),K=t(95),X=t.n(K),Y=t(92),Z=t.n(Y),$=t(96),q=t.n($),Q=t(94),_=t.n(Q),ee=t(93),ae=t.n(ee),te=t(97),ne=t.n(te),re=Object(C.a)((function(e){return{root:{display:"flex"},drawer:{width:151.5},drawerPaper:{backgroundColor:"#F2EDEB",opacity:.85,width:151.5},header:e.mixins.toolbar,seroful:{marginTop:"7.5%",textAlign:"center",fontFamily:"Happy Monkey",color:"#bd93bd",fontSize:"35px",fontWeight:"bold",fontStyle:"italic"}}})),le=function(){var e=re();return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},anchor:"left"},r.a.createElement("div",{className:e.header},r.a.createElement(f.a,{className:e.seroful,variant:"h3"},"Seroful")),r.a.createElement(W.a,null),r.a.createElement(J.a,null,r.a.createElement(R.a,{button:!0,key:"Home",component:"a",href:"/"},r.a.createElement(z.a,null,r.a.createElement(Z.a,null)),r.a.createElement(L.a,{primary:"Home"})),r.a.createElement(R.a,{button:!0,key:"Profile",component:"a",href:"/profile"},r.a.createElement(z.a,null,r.a.createElement(ae.a,null)),r.a.createElement(L.a,{primary:"Profile"})),r.a.createElement(R.a,{button:!0,key:"Friends"},r.a.createElement(z.a,null,r.a.createElement(_.a,null)),r.a.createElement(L.a,{primary:"Friends",onClick:function(){return console.log("put a menu here soon")}})),r.a.createElement(R.a,{button:!0,key:"Planner"},r.a.createElement(z.a,null,r.a.createElement(X.a,null)),r.a.createElement(L.a,{primary:"Planner",onClick:function(){return console.log("put a menu here soon")}})),r.a.createElement(R.a,{button:!0,key:"Journal"},r.a.createElement(z.a,null,r.a.createElement(q.a,null)),r.a.createElement(L.a,{primary:"Journal"})),r.a.createElement(R.a,{button:!0,key:"Settings"},r.a.createElement(z.a,null,r.a.createElement(ne.a,null)),r.a.createElement(L.a,{primary:"Settings"})),r.a.createElement(R.a,{button:!0,key:"Sign Out",onClick:function(){O.a.auth().signOut().then((function(){return console.log("User signed out.")}))}},r.a.createElement(z.a,null,r.a.createElement(G.a,null)),r.a.createElement(L.a,{primary:"Sign Out"})))))},ce=(Object(C.a)((function(e){return{}})),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,null,r.a.createElement("title",null,"Seroful - Home")),r.a.createElement(le,null))}),oe=function(){return r.a.createElement("h3",null,"This is the not found page. Do stuff here")},ue=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,null,r.a.createElement("title",null," Seroful - User's Production Planner")),r.a.createElement(le,null),r.a.createElement("h1",null,"something here"))},ie=Object(C.a)((function(e){return{main:{display:"flex",justifyContent:"baseline"},avatar:{width:100,height:100,top:"5vh",left:"20vw"}}})),se=t(184),me=function(e){var a=ie();return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,null,r.a.createElement("title",null," Seroful - User's Profile")),r.a.createElement(le,null),r.a.createElement("div",{className:a.main},r.a.createElement(se.a,{alt:"placeholder",className:a.avatar},"JD")))},fe=function(){return r.a.createElement(A.a,null,r.a.createElement(B.c,null,r.a.createElement(B.a,{exact:!0,path:"/",render:function(){return r.a.createElement(ce,null)}}),"// TODO: Make route for profile /users/(username or uid)/profile",r.a.createElement(B.a,{path:"/profile",render:function(){return r.a.createElement(me,null)}}),"// TODO: Make route for planner /users/(username or uid)/planner",r.a.createElement(B.a,{path:"/planner",render:function(){return r.a.createElement(ue,null)}}),r.a.createElement(B.a,{path:"*",render:function(){return r.a.createElement(oe,null)}})))};t(140);O.a.initializeApp({apiKey:"AIzaSyBJg9iVnvGl6F5TFBRTmoWn-3A5IxTgywI",authDomain:"seroful.firebaseapp.com",databaseURL:"https://seroful.firebaseio.com",projectId:"seroful",storageBucket:"seroful.appspot.com",messagingSenderId:"531332449318",appId:"1:531332449318:web:9b85133f0399aa898fd2e7",measurementId:"G-XYW74Z91MJ"});var pe=function(){var e=Object(n.useState)(!0),a=Object(s.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(),o=Object(s.a)(c,2),m=o[0],f=o[1],p=Object(y.c)(k),b=Object(s.a)(p,2),E=(b[0],b[1]),d=function(){var e=Object(i.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(a),!a){e.next=6;break}return e.next=4,a.getIdToken();case 4:n=e.sent,E(n);case 6:t&&l(!1);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return O.a.auth().onAuthStateChanged(d)}),[]),t?null:m?r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,null)):r.a.createElement(I,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(y.a,null,r.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},68:function(e,a,t){e.exports=t.p+"static/media/molecule.12ccad98.png"}},[[109,1,2]]]);
//# sourceMappingURL=main.e5b608b3.chunk.js.map